Традиционно настройки сети в Linux выполняются редактированием конфигурационных файлов, расположение, 
название и синтаксис которых могут отличаться в различных дистрибутивах. 
Следует отметить что в десктоповых версиях ОС Linux все чаще используются отдельные программы для управления параметрами сети,
заменяющие функции классических конфигурационных файлов.
Основные файлы конфигурации сетевых параметров:
    • /etc/hostname	- имя узла;
    • /etc/hosts		- текстовая БД с соответствием ip-адресов и имен DNS;
Например:	192.168.0.101   ubuntu.mti.local  ubuntu  pc1

    • /etc/resolv.conf	- файл с настройками серверов имен;
Содержит в себе перечень серверов имен, поисковый домен или домен, в котором находится данный ПК. 
В большинстве современных дистрибутивов заполняется автоматически. 
Чтобы дописать в него информацию можно воспользоваться файлами:
    • /etc/resolvconf/resolv.conf.d/head
    • /etc/resolvconf/resolv.conf.d/base
    • /etc/resolvconf/resolv.conf.d/tail

    • /etc/nsswitch.conf 	- файл настроек для диспетчера службы имен.
Первая колонка содержит название БД, строка, соответствующая ей – порядок поиска информации. 
В скобках можно указывать дополнительные опции вида СТАТУС = ДЕЙСТВИЕ
Статусы: success | notfound | unavail | tryagain
Действия: return | continue
	
Например, В Ubuntu присутствует строчка: mdns4_minimal [NOTFOUND=return], что читается так: 
если имя в зоне .local (minimal) не найдено (notfound) в multicast dns (mdns4), то прекратить дальнейший поиск (return).
------------------------------------------------------------------------------------------------------------------------
Несмотря на то, что файлы конфигурации в семействах Debian и RedHat отличаются, последние версии ОС 
позволяют осуществить настройку сетевого интерфейса редактированием одного файла 
Кроме того, в современных дистрибутивах используется новая форма именования интерфейсов:
    1. Имена сетевых устройств по индексу, в зависимости от расположения на материнской плате (eno1);
    2. Имена сетевых устройств по расположению в слотах PCI Express (ens1)
    3. Имена сетевых устройств в зависимости расположения слота их подключений – шина и слот (enp0s3)
    4. Имена сетевых устройств сгенерированных на базе MAC адресов (enxab34ea65123d)
    5. Классическая схема по порядку инициализации (eth0)
----------------------------------------------------------------------------------------------------------------------
                                                    RedHat
RedHat хранит настройки сетевых интерфейсов в директории /etc/sysconfig/network-scripts, 
в файле по имени сетевого интерфейса (например, ifcfg-enp0s3).
Для указания получения настроек по dhcp в нем указана опция: 
      Bootpro=dhcp
Для указания настроек вручную можно использовать синтаксис:
      Bootpro=static
      Ipaddr=192.168.0.5
      Netmask=255.255.255.0
      Gateway=192.168.0.10
      DNS1=192.168.0.1
Для автоматического включения сетевого интерфейса используется опция 
      onboot=yes
Иногда требуется отключать сетевой менеджер опцией 
      nm_controlled=no
---------------------------------------------------------------------------------------------------------------
                                                      Ubuntu
                                                      
Ubuntu хранит настройки сетевых интерфейсов в файле 
      /etc/network/interfaces
Для указания получения настроек по dhcp в нем указана опция: 
      iface enp0s3 inet dhcp
Для указания настроек вручную можно использовать синтаксис:
      iface enp0s3 inet static 
      address 192.168.0.5
      netmask 255.255.255.0
      gateway 192.168.0.10
      dns-nameservers 192.168.0.1
      
Для автоматического включения сетевого интерфейса используется опция 
      auto enp0s3
Иногда требуется отключать сетевой менеджер в файле конфигурации 
      /etc/NetworkManager/NetworkManager.conf 

      dns=dnsmasq    - комментированием опции 
      managed=true   - и указанием 
--------------------------------------------------------------------------------------------------------------------
Для временного изменения настроек сетевых интерфейсов, маршрутизации или параметров TCP/IP можно воспользоваться 
отдельными командами.
Включение и выключение интерфейсов: 
      ifup и ipdown  
Например, 
      ifup enp0s3	(включить указанный интерфейс)

Указание параметров сетевой карты: 
      ifconfig (при этом после перезапуска службы сети возвращаются настройки, указанные в конфигурационных файлах сети).

Для управления маршрутами используется команда 
      route
Например:
      route 	(показать маршруты)
      route del default   (удалить маршрут по умолчанию)
      route add default gw 192.168.0.10    (установить в качестве маршрутизатора по умолчанию шлюз 192.168.0.10)

Для управления стеком TCP/IP используется команда 
      ip
Например:
      ip addr	(показать используемые ip-адреса)
      ip link set enp0s3 down	(выключить указанный интерфейс)
      ip link set enp0s3 up		(включить указанный интерфейс)
      ip -4 address flush enp0s3	(удалить настройки указанного интерфейс)
      ip address add 192.168.1.200/255.255.255.0 dev enp0s3 (задать указанный адрес и маску указанному интерфейсу)
      
      
      -----------------------------------------------------------------------------------------------------------
      
Предлагаемым примером настройки сети является задача замены сетевой карты. Алгоритм действий:
	ifconfig enp0s3 down	(выключение сетевого интерфейса);
	rmmod e1000		(удаление модулей ядра для сетевой карты e1000);
	ifconfig enp0s4 192.168.0.4/24		(задание настроек другому интерфейсу).

Вторым предлагаемым примером является указание основного маршрута для системы с несколькими сетевыми картами. 
Алгоритм действий:
	route	(вывод доступных маршрутов);
	sudo route add default gw 192.168.0.10 netmask 0.0.0.0 dev enp0s3 metric 99	
	(указание метрики 99, для сетевой карты enp0s3 как более предпочтительной).
Примечание: для сохранения настроек после перезагрузки следует указать метрику для выбранной сетевой 
карты в файле настроек сетевых интерфейсов (/etc/network/interfaces) опцией “metric 100”

В качестве инструментов для диагностики работы сети используются:
    • host	- запрос информации у сервера DNS (напрямую);
например, host ya.ru
    • dig	- запрос полной информации у сервера DNS;
например, dig ya.ru
    • ping (ping6)	- проверка связи с узлом;
например, ping ya.ru
    • traceroute (traceroute6)	- определение маршрута данных (sudo);
например, traceroute ya.ru
    • tracepath (tracepath6)		- определение маршрута данных;
например, tracepath ya.ru
    • netstat		- вывод информации о сети;
например, netstat –ntup
    • netcat		- установка соединений.
например, nc -v -n -z -w 1 10.0.1.1 1-1000
